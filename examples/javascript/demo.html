<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>client demo</title>
  </head>
  <body>
    <h1>client demo</h1>
    <button onclick="ChangeRoom()">Change room</button>
    <input id="roomid">
    <script src="client.js"></script>
    <script>
      var client = new IMClient({
          appid: 0,
          uid: 88889999,
          roomid: -1,
          notify: function(data) {
              alert('收到广播消息: ' + JSON.stringify(data));
          }
      });

      function ChangeRoom() {
          var roomid = parseInt(document.querySelector('#roomid').value);
          client.switchRoom(roomid, function(ret, msg) {
              var note = ((ret === 0)?"成功!":"失败!") + " ret=" + ret + " msg=" + msg;
              alert(note)
          });
      }
    </script>
  </body>
</html>
